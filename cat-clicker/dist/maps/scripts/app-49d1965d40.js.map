{"version":3,"sources":["scripts/app.js"],"names":["angular","module","config","$mdThemingProvider","theme","primaryPalette","accentPalette","warnPalette","$mdIconProvider","icon","catsData","$http","getCats","getCatsComplete","response","data","getCatsFail","error","get","then","$inject","factory","controller","$mdSidenav","$mdDialog","$mdToast","showToast","show","simple","textContent","position","hideDelay","select","cat","self","selected","toggleSideNav","catClick","count","setEditing","isEditing","save","newCat","asignCatId","catsArray","asignCatIdAux","array","index","value","length","getSortedIds","arr","map","id","sort","name","src","cats","push","clear","hide","toggle","showPrerenderedDialog","ev","contentElement","parent","element","document","body","targetEvent","clickOutsideToClose","deleteCat","i","indexOf","splice","this","hideForm","console","log","run","$templateCache","put"],"mappings":"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","file":"../../scripts/app-49d1965d40.js","sourcesContent":["angular\n  .module('app', ['ngMaterial']);\nangular.module('app')\n.config(function($mdThemingProvider){\n  $mdThemingProvider.theme('default')\n    .primaryPalette('brown')\n    .accentPalette('amber')\n    .warnPalette('pink');\n});\nangular.module('app')\n  .config(function($mdIconProvider){\n    $mdIconProvider.icon('menu','assets/icons/menu.svg');\n    $mdIconProvider.icon('delete','assets/icons/delete.svg');\n    $mdIconProvider.icon('add','assets/icons/add.svg');\n    $mdIconProvider.icon('linkedin','assets/icons/linkedin.svg');\n    $mdIconProvider.icon('twitter','assets/icons/twitter.svg');\n    $mdIconProvider.icon('github','assets/icons/github.svg');\n    $mdIconProvider.icon('edit','assets/icons/edit.svg');\n  });\n(function(){\n'use strict';\n\n  angular.module('app')\n    .factory('catsData',catsData);\n\n  function catsData ($http){\n    return {\n      getCats: getCats\n    };\n\n    function getCats (){\n      return $http.get('assets/data/cats.json')\n              .then(getCatsComplete)\n              .catch(getCatsFail);\n\n      function getCatsComplete (response) {\n        return response.data;\n      }\n\n      function getCatsFail (error) {\n        return 'error to get the cats data' + error;\n      }\n    }\n  }\n})();\n(function(){\n'use strict';\n  angular.module('app')\n    .controller('MyController', function($mdSidenav, $mdDialog, $mdToast, catsData){\n      var self = this;\n      self.cats = [];\n      self.catClick = catClick;\n      self.clear = clear;\n      self.deleteCat = deleteCat;\n      self.hideForm = true;\n      self.save = save;\n      self.select = select;\n      self.selected = null;\n      self.showPrerenderedDialog = showPrerenderedDialog;\n      self.toggleSideNav = toggleSideNav;\n      self.isEditing = false;\n      self.setEditing = setEditing;\n      \n\n      catsData.getCats()\n        .then(function(response){\n        self.cats = response;\n        self.selected = self.cats[0];\n      })\n        .catch(function(response){\n        console.log(\"errror\" + response);\n      });\n\n      function showToast(){\n        $mdToast.show(\n          $mdToast.simple()\n          .textContent('You click the cat!')\n          .position('bottom')\n          .hideDelay(1000)\n        );\n      }\n\n      function select (cat) {\n        self.selected = cat;\n        toggleSideNav();\n      }\n\n      function catClick (cat) {\n        cat.count ++;\n        showToast();\n      }\n\n      function setEditing(){\n        self.isEditing = true;\n      }\n\n      function save (newCat) {\n\n        if (newCat.count === null || !newCat.count) {\n            newCat.count = 0;\n        }\n\n\n        if (self.isEditing) {\n          self.selected.name = newCat.name;\n          self.selected.src = newCat.src;\n          self.selected.count = newCat.count;\n\n        } else {\n          newCat.id = asignCatId(self.cats);\n          self.cats.push(newCat);\n        }\n\n        self.clear();\n        self.isEditing = false;\n        \n\n\n        function asignCatId(catsArray){\n          return asignCatIdAux(getSortedIds(catsArray), 0, 0);\n\n            function asignCatIdAux (array, index, value){\n              return index > array.length - 1 ? value\n                : array[index] !== value ? \n                  asignCatIdAux (array, index +1, value) :\n                  asignCatIdAux (array, index +1, value + 1);\n\n\n            }\n\n            function getSortedIds (arr) {\n              return arr\n                .map(function(arr){\n                return arr.id;\n                })\n                .sort();\n            }\n        }\n\n      }\n\n      function clear () {\n        self.newCat = {};\n        $mdDialog.hide();\n      }\n\n      function toggleSideNav () {\n        $mdSidenav('catsSideNav').toggle();\n      }\n\n      function showPrerenderedDialog (ev) {\n        $mdDialog.show({\n          // controller: DialogController,\n          contentElement: '#myDialog',\n          parent: angular.element(document.body),\n          targetEvent: ev,\n          clickOutsideToClose: true\n        });\n      }\n\n      function deleteCat(id) {\n        var i = self.cats\n          .map(function(arr){\n            return arr.id;\n          })\n          .indexOf(id);\n        self.cats.splice(i,1);\n      }\n\n    });\n})();\nangular.module(\"app\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/hello.html\",\"\");}]);\n"]}